[inputs]

[inputs.temp_f]
operation = "celsius_to_fahrenheit"
sources = ["temp_c"]
default = 0.0

[inputs.temp_c_from_f]
operation = "fahrenheit_to_celsius"
sources = ["temp_f_raw"]
default = 0.0

[inputs.total_price]
operation = "multiply"
sources = ["price", "quantity"]
default = 0.0

[inputs.discount_price]
operation = "linear_transform"
sources = ["price"]
multiply = 0.8
default = 0.0

[inputs.score1]
context_key = "score1"

[inputs.score2]
context_key = "score2"

[inputs.score3]
context_key = "score3"


[inputs.average_score]
operation = "average"
sources = ["score1", "score2", "score3"]
default = 0.0

[inputs.min_temp]
operation = "min"
sources = ["temp_morning", "temp_noon", "temp_evening"]
default = 0.0

[inputs.max_temp]
operation = "max"
sources = ["temp_morning", "temp_noon", "temp_evening"]
default = 0.0

[inputs.bmi]
operation = "divide"
sources = ["weight_kg", "height_m_sq"]
default = 0.0

[inputs.speed_mph]
operation = "linear_transform"
sources = ["speed_kmh"]
multiply = 0.621371
default = 0.0

[inputs.abs_change]
operation = "abs"
sources = ["price_change"]
default = 0.0

[inputs.rounded_price]
operation = "round"
sources = ["price"]
default = 0.0

[inputs.price_ceiled]
operation = "ceil"
sources = ["price"]
default = 0.0

[inputs.price_floored]
operation = "floor"
sources = ["price"]
default = 0.0

[inputs.remainder]
operation = "modulo"
sources = ["number", "divisor"]
default = 0

[inputs.full_name]
operation = "concat"
sources = ["first_name", "last_name"]
separator = " "
default = ""

[inputs.domain]
operation = "split"
sources = ["email"]
separator = "@"
index = 1
default = ""

[inputs.year]
operation = "substring"
sources = ["date"]
start = 0
end = 4
default = ""

[inputs.price_display]
operation = "conditional"
condition = { input = "currency", equals = "USD" }
if_true = "${{amount}}"
if_false = "{{amount}} {{currency}}"
default = ""

[inputs.user_badge]
operation = "conditional"
condition = { input = "membership", equals = "premium" }
if_true = "⭐ Premium"
if_false = "Standard"
default = "Guest"

[formatters.temperature]
type = "number"
decimals = 1
suffix = "°F"

[formatters.price_fmt]
type = "price"
symbol = "$"
decimals = 2

[formatters.score_fmt]
type = "number"
decimals = 1

[formatters.speed_fmt]
type = "number"
decimals = 1
suffix = " mph"

[presenters.price]
input = "price"
formatter = "price_fmt"

[presenters.quantity]
input = "quantity"
formatter = "number"
formatter_params = { suffix = "x" }

[presenters.total_price]
input = "total_price"
formatter = "price_fmt"

[presenters.discount_price]
input = "discount_price"
formatter = "price_fmt"
formatter_params = { prefix = "SALE: " }

[presenters.product]
input = "product"
formatter = "text"

[presenters.temp_c]
input = "temp_c"
formatter = "number"
formatter_params = { decimals = 1, suffix = "°C" }

[presenters.temp_f]
input = "temp_f"
formatter = "temperature"

[presenters.student]
input = "student"
formatter = "text"

[presenters.score]
input = "score"
formatter = "score_fmt"

[presenters.score1]
input = "score1"
formatter = "score_fmt"

[presenters.score2]
input = "score2"
formatter = "score_fmt"

[presenters.score3]
input = "score3"
formatter = "score_fmt"


[presenters.average_score]
input = "average_score"
formatter = "score_fmt"
formatter_params = { prefix = "Avg: " }

[presenters.location]
input = "location"
formatter = "text"

[presenters.min_temp]
input = "min_temp"
formatter = "temperature"
formatter_params = { prefix = "Min: " }

[presenters.max_temp]
input = "max_temp"
formatter = "temperature"
formatter_params = { prefix = "Max: " }

[presenters.speed_kmh]
input = "speed_kmh"
formatter = "number"
formatter_params = { decimals = 1, suffix = " km/h" }

[presenters.speed_mph]
input = "speed_mph"
formatter = "speed_fmt"

[layouts.temperature]
name = "Temperature Conversion"

[[layouts.temperature.lines]]
index = 0
presenter = "temp_c"

[[layouts.temperature.lines]]
index = 10
presenter = "temp_f"

[layouts.shopping]
name = "Shopping Cart"

[[layouts.shopping.lines]]
index = 0
presenter = "product"

[[layouts.shopping.lines]]
index = 15
presenter = "quantity"

[[layouts.shopping.lines]]
index = 20
presenter = "price"

[[layouts.shopping.lines]]
index = 30
presenter = "total_price"

[[layouts.shopping.lines]]
index = 45
presenter = "discount_price"

[layouts.scores]
name = "Student Scores"

[[layouts.scores.lines]]
index = 0
presenter = "student"

[[layouts.scores.lines]]
index = 1
presenter = "score1"

[[layouts.scores.lines]]
index = 2
presenter = "score2"

[[layouts.scores.lines]]
index = 3
presenter = "score3"

[[layouts.scores.lines]]
index = 4
presenter = "average_score"

[layouts.weather]
name = "Weather Report"

[[layouts.weather.lines]]
index = 0
presenter = "location"

[[layouts.weather.lines]]
index = 15
presenter = "min_temp"

[[layouts.weather.lines]]
index = 30
presenter = "max_temp"

[layouts.speed]
name = "Speed Conversion"

[[layouts.speed.lines]]
index = 0
presenter = "speed_kmh"

[[layouts.speed.lines]]
index = 20
presenter = "speed_mph"
